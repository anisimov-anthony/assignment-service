# Набор для нагрузочного тестирования K6

### Определено два сценария тестов:
- sli - те, что прописаны в условиях к тестовому заданию (до 20 команд и до 200 пользователей, RPS — 5, SLI времени ответа — 300 мс, SLI успешности — 99.9%)
- 1k - как и sli, но RPS - 1000

### Предварительные требования
- k6 устанавливается локально или запускается через Docker
- Сервис и его зависимости запускается на `http://localhost:8080` (используйте `docker-compose up` (см. README.md d проекта))

### Запуск тестов
```bash
# Запуск всех k6 тестов (остальные опции см. в хэлпере для скрипта)
./run_all.sh all
```

### Результаты тестов
Каждый тест сохраняет свой вывод в отдельный `.json` файл в данной директории: `k6-results/YYYY-MM-DD/`

Каждый тест имеет свой собственный каталог с:
- `index.js` - сценарием
- `README.md` - документацией

Для парсинга `.json` с результатами тестов и приведения данных в читаемый вид используется скрипт `parse_results.py`, который сохраняет файлы `.txt` в папку `\results`

### Система тегирования
В тестах используется система тегирования, позволяющая отделить запросы на подготовку от реальных запросов на тестирование:

- `prep: true` - Запросы на установку/создание (исключены из SLI)
- `prep: false` - запросы на фактическое тестирование (включены в SLI)

### Пороговая фильтрация
Пороговые значения SLI применяются только к запросам `prep: false`

## Аппаратное обеспечение тестирования

Нагрузочное тестирование проводилось на следующем оборудовании:

**Основные характеристики:**
- **Процессор**: Intel i3-7020U (4 ядра) @ 2.3GHz
- **Оперативная память**: 8GB (использовано ~6GB во время тестов)
- **ОС**: Arch Linux x86_64
